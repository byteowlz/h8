{"id":"ews-test-0cj","title":"Implement mail folder operations (move, delete, mark)","description":"Implement folder management commands.\n\nCommands:\n  h8 mail mv \u003cid\u003e \u003cfolder\u003e  # move message to folder\n  h8 mail rm \u003cid\u003e           # move to trash\n  h8 mail rm \u003cid\u003e --force   # permanently delete\n  h8 mail mark \u003cid\u003e --read  # mark as read\n  h8 mail mark \u003cid\u003e --unread # mark as unread\n\nAll operations:\n1. Update local Maildir (move file, rename for flags)\n2. Queue change for sync to Exchange\n3. Next sync pushes changes to server\n\nFolder names: inbox, sent, drafts, trash, junk, or custom folder names.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-08T15:43:47.7416+01:00","updated_at":"2025-12-09T00:08:01.597926839+01:00","closed_at":"2025-12-09T00:08:01.597926839+01:00","dependencies":[{"issue_id":"ews-test-0cj","depends_on_id":"ews-test-7ll","type":"blocks","created_at":"2025-12-08T15:46:59.614206+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-0cj","depends_on_id":"ews-test-80l","type":"blocks","created_at":"2025-12-08T15:47:04.766937+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-0cj","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:48:34.288739+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-1eu","title":"Implement compose format parser (YAML frontmatter + body)","description":"Create parser/serializer for the email compose format.\n\nFormat:\n---\nto: alice@example.com, bob@example.com\ncc: carol@example.com\nsubject: Re: Meeting tomorrow\nin-reply-to: \u003coriginal-message-id\u003e\nreferences: \u003cthread-root-id\u003e \u003coriginal-message-id\u003e\n---\n\nHi Alice,\n\nThanks for the update...\n\n\u003e Original quoted text here\n\nFeatures:\n- Parse frontmatter headers (to, cc, bcc, subject, in-reply-to, references)\n- Extract body text\n- Generate compose files from existing messages (for reply/forward)\n- Handle signature injection\n- Support quote_style configuration (default: '\u003e ')","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-08T15:42:21.534652+01:00","updated_at":"2025-12-09T00:07:58.338771652+01:00","closed_at":"2025-12-09T00:07:58.338771652+01:00","dependencies":[{"issue_id":"ews-test-1eu","depends_on_id":"ews-test-dmh","type":"blocks","created_at":"2025-12-08T15:45:41.637649+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-1eu","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:48:03.459667+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-4bj","title":"Implement SQLite sync database","description":"Create SQLite database for tracking sync state between local and Exchange.\n\nSchema:\nCREATE TABLE messages (\n    local_id TEXT PRIMARY KEY,      -- maildir filename\n    remote_id TEXT UNIQUE NOT NULL, -- EWS item ID\n    change_key TEXT,                -- EWS change key\n    folder TEXT NOT NULL,\n    subject TEXT,\n    from_addr TEXT,\n    received_at DATETIME,\n    is_read BOOLEAN,\n    is_draft BOOLEAN DEFAULT FALSE,\n    synced_at DATETIME,\n    local_hash TEXT                 -- detect local edits\n);\n\nCREATE TABLE sync_state (\n    folder TEXT PRIMARY KEY,\n    last_sync DATETIME,\n    sync_token TEXT                 -- for incremental sync\n);\n\nLocation: $XDG_DATA_HOME/h8/mail/\u003caccount\u003e/.sync.db","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T15:42:04.749482+01:00","updated_at":"2025-12-09T00:07:59.655854846+01:00","closed_at":"2025-12-09T00:07:59.655854846+01:00","dependencies":[{"issue_id":"ews-test-4bj","depends_on_id":"ews-test-dmh","type":"blocks","created_at":"2025-12-08T15:45:36.521148+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-4bj","depends_on_id":"ews-test-4cn","type":"blocks","created_at":"2025-12-08T15:45:59.840885+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-4bj","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:47:58.347294+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-4cn","title":"Implement human-readable email ID system","description":"Implement the adjective-noun ID system for emails.\n\nFormat: \u003cadjective\u003e-\u003cnoun\u003e (e.g., 'cold-lamp', 'blue-frog')\n\nComponents:\n- Load word lists from h8/data/word_lists.toml (already generated)\n- SQLite table for ID pool management\n- Random selection from free pool\n- Mark IDs as used when assigned, free when email deleted\n- Avoid same-word combinations (e.g., 'cold-cold')\n\nSchema:\nCREATE TABLE id_pool (\n    short_id TEXT PRIMARY KEY,\n    status TEXT DEFAULT 'free',  -- 'free' | 'used'\n    assigned_at DATETIME,\n    message_remote_id TEXT\n);\n\n~441k effective combinations with recycling.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T15:41:27.650383+01:00","updated_at":"2025-12-09T00:07:56.103034868+01:00","closed_at":"2025-12-09T00:07:56.103034868+01:00","dependencies":[{"issue_id":"ews-test-4cn","depends_on_id":"ews-test-dmh","type":"blocks","created_at":"2025-12-08T15:45:26.239824+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-4cn","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:47:48.086649+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-6st","title":"getting information currently takes a long time, at least 10 seconds. We need to figure out why and how we could speed this up","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T08:42:26.574512+01:00","updated_at":"2025-11-27T10:06:31.565512+01:00","closed_at":"2025-11-27T10:06:31.565512+01:00"}
{"id":"ews-test-6zv","title":"Implement mail compose/reply/forward with editor integration","description":"Implement compose workflow with $EDITOR (neovim) integration.\n\nCommands:\n  h8 mail compose           # new message\n  h8 mail reply \u003cid\u003e        # reply to message\n  h8 mail reply \u003cid\u003e --all  # reply-all\n  h8 mail forward \u003cid\u003e      # forward message\n\nWorkflow:\n1. Generate compose file with pre-filled headers\n2. For reply: add quoted original, set in-reply-to/references\n3. For forward: include original as quoted text\n4. Add signature if configured\n5. Write to temp file\n6. Open $EDITOR and wait for exit\n7. Parse saved file\n8. Save as draft to local Maildir\n9. Sync draft to Exchange\n10. Print draft ID for later send\n\nConfig options:\n[mail.compose]\nformat = 'text'\nquote_style = '\u003e '\ninclude_signature = true","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T15:42:56.580878+01:00","updated_at":"2025-12-09T00:08:02.527571115+01:00","closed_at":"2025-12-09T00:08:02.527571115+01:00","dependencies":[{"issue_id":"ews-test-6zv","depends_on_id":"ews-test-1eu","type":"blocks","created_at":"2025-12-08T15:46:33.841082+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-6zv","depends_on_id":"ews-test-7ll","type":"blocks","created_at":"2025-12-08T15:46:38.994554+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-6zv","depends_on_id":"ews-test-dw2","type":"blocks","created_at":"2025-12-08T15:46:44.150706+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-6zv","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:48:18.82168+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-7ll","title":"Implement local Maildir storage","description":"Implement local email storage using Maildir format.\n\nDirectory structure:\n$XDG_DATA_HOME/h8/mail/\u003caccount\u003e/\n  inbox/\n    cur/    # read messages\n    new/    # unread messages\n    tmp/    # temp during write\n  sent/\n  drafts/\n  trash/\n  .sync.db  # SQLite sync state\n\nFeatures:\n- Create/read/update/delete messages in Maildir\n- Handle read/unread flags via filename conventions\n- Support for draft messages\n- Atomic writes via tmp directory","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T15:41:45.197551+01:00","updated_at":"2025-12-09T00:07:57.121913127+01:00","closed_at":"2025-12-09T00:07:57.121913127+01:00","dependencies":[{"issue_id":"ews-test-7ll","depends_on_id":"ews-test-dmh","type":"blocks","created_at":"2025-12-08T15:45:31.376234+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-7ll","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:47:53.205499+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-80l","title":"Implement mail sync command","description":"Implement bidirectional sync between local Maildir and Exchange.\n\nCommands:\n  h8 mail sync              # sync all configured folders\n  h8 mail sync inbox        # sync specific folder\n  h8 mail sync --full       # full re-sync (ignore sync tokens)\n\nSync logic:\n1. Fetch remote changes since last sync (using sync tokens if available)\n2. Download new/changed messages to local Maildir\n3. Detect local changes (new drafts, read/unread flags, deletions)\n4. Push local changes to Exchange\n5. Update sync state in SQLite\n\nHandle conflicts:\n- Remote wins for most fields\n- Local draft edits preserved until explicitly synced","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T15:42:36.823591+01:00","updated_at":"2025-12-09T00:08:04.583576916+01:00","closed_at":"2025-12-09T00:08:04.583576916+01:00","dependencies":[{"issue_id":"ews-test-80l","depends_on_id":"ews-test-7ll","type":"blocks","created_at":"2025-12-08T15:46:04.99603+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-80l","depends_on_id":"ews-test-4bj","type":"blocks","created_at":"2025-12-08T15:46:10.142394+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-80l","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:48:13.67807+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-984","title":"Implement draft management and send commands","description":"Implement draft listing, editing, and sending.\n\nCommands:\n  h8 mail drafts            # list all drafts\n  h8 mail edit \u003cdraft-id\u003e   # edit existing draft in $EDITOR\n  h8 mail send \u003cdraft-id\u003e   # send specific draft\n  h8 mail send --all        # send all drafts\n\nSend workflow:\n1. Load draft from local Maildir\n2. Parse headers and body\n3. Call Python service to send via EWS\n4. On success:\n   - Delete from local drafts folder\n   - Delete from remote drafts (EWS)\n   - Message appears in Sent (EWS handles this)\n5. Sync sent folder to get local copy\n\nDraft listing shows:\n- Draft ID (e.g., 'cold-lamp')\n- Subject\n- Recipients\n- Last modified time","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T15:43:16.896358+01:00","updated_at":"2025-12-09T00:08:03.625195817+01:00","closed_at":"2025-12-09T00:08:03.625195817+01:00","dependencies":[{"issue_id":"ews-test-984","depends_on_id":"ews-test-6zv","type":"blocks","created_at":"2025-12-08T15:46:49.302886+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-984","depends_on_id":"ews-test-ahe","type":"blocks","created_at":"2025-12-08T15:46:54.454372+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-984","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:48:23.974776+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-ahe","title":"Add draft save/sync endpoints to Python service","description":"Extend the Python EWS service to support draft operations.\n\nNew endpoints needed:\nPOST /mail/draft          # save draft to Exchange drafts folder\nPUT  /mail/draft/\u003cid\u003e     # update existing draft\nDELETE /mail/draft/\u003cid\u003e   # delete draft\n\nDraft operations in mail.py:\n- save_draft(account, message_data) -\u003e dict with id, changekey\n- update_draft(account, item_id, message_data) -\u003e dict\n- delete_draft(account, item_id) -\u003e dict\n\nDrafts are saved to account.drafts folder in Exchange.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T15:44:21.412976+01:00","updated_at":"2025-12-08T23:53:27.383345588+01:00","closed_at":"2025-12-08T23:53:27.383345588+01:00","dependencies":[{"issue_id":"ews-test-ahe","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:49:00.919792+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-dmh","title":"Convert h8 to Cargo workspace (h8-core, h8-cli, h8-tui)","description":"Restructure the Rust project into a Cargo workspace:\n\nh8/\n  Cargo.toml              # workspace root\n  h8-core/                # shared library\n    src/lib.rs\n    src/config.rs\n    src/mail/mod.rs\n    src/mail/types.rs\n    src/mail/compose.rs\n    src/mail/maildir.rs\n    src/mail/sync.rs\n    src/db.rs\n    src/service.rs\n  h8-cli/                 # CLI binary\n    src/main.rs\n    src/commands/\n  h8-tui/                 # future TUI (stub for now)\n    src/main.rs\n\nMove existing main.rs logic appropriately between core and cli.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T15:41:06.378475+01:00","updated_at":"2025-12-08T23:53:15.317560601+01:00","closed_at":"2025-12-08T23:53:15.317560601+01:00","dependencies":[{"issue_id":"ews-test-dmh","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:47:42.942562+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-dtq","title":"h8 Email Client: Terminal-native email workflow with neovim integration","description":"Transform h8 into the primary email client for terminal-based workflow.\n\nKey features:\n- Pull emails on demand to local Maildir storage\n- Compose/reply in neovim with YAML frontmatter format\n- Save = draft (synced to Exchange)\n- Explicit send command for drafts\n- Two-way sync between local storage and Exchange\n- Human-readable email IDs (adjective-noun format, e.g., 'cold-lamp')\n\nArchitecture:\n- Rust workspace: h8-core (library), h8-cli (CLI), h8-tui (future TUI)\n- SQLite database for sync state and ID mapping\n- Maildir format for local storage\n- Python service backend for EWS communication","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-08T15:40:31.538541+01:00","updated_at":"2025-12-09T00:08:09.960460519+01:00","closed_at":"2025-12-09T00:08:09.960460519+01:00"}
{"id":"ews-test-dw2","title":"Extend configuration for mail workflow","description":"Add mail-specific configuration options to config.toml.\n\nNew config sections:\n[mail]\ndata_dir = '~/.local/share/h8/mail'  # override XDG_DATA_HOME\neditor = '$EDITOR'                   # or explicit path\npager = 'less -R'\nsync_folders = ['inbox', 'sent', 'drafts']\nsignature = '''\n--\nTommy Falkowski\n'''\n\n[mail.compose]\nformat = 'text'           # or 'html' (future)\nquote_style = '\u003e '        # prefix for quoted text\ninclude_signature = true\n\nUpdate config.rs and AppConfig struct in h8-core.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T15:44:05.248504+01:00","updated_at":"2025-12-09T00:07:54.670988382+01:00","closed_at":"2025-12-09T00:07:54.670988382+01:00","dependencies":[{"issue_id":"ews-test-dw2","depends_on_id":"ews-test-dmh","type":"blocks","created_at":"2025-12-08T15:45:46.766266+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-dw2","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:48:08.56807+01:00","created_by":"tommyfalkowski"}]}
{"id":"ews-test-fao","title":"daemon needs to automatically reauthenticate periodically and not only on startup","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T23:31:57.550814+01:00","updated_at":"2025-12-08T23:53:23.089181736+01:00","closed_at":"2025-12-08T23:53:23.089181736+01:00"}
{"id":"ews-test-mgb","title":"Implement mail read/list commands with local storage","description":"Update mail list/read commands to use local Maildir storage.\n\nCommands:\n  h8 mail list              # list inbox (from local)\n  h8 mail list -f sent      # list sent folder\n  h8 mail list --unread     # only unread\n  h8 mail read \u003cid\u003e         # show message in pager\n  h8 mail read \u003cid\u003e --raw   # show raw RFC822\n\nList output:\n- Short ID (e.g., 'cold-lamp')\n- Read/unread indicator\n- From address\n- Subject (truncated)\n- Date\n\nRead uses $PAGER (default: less -R) for viewing.\nAutomatically marks message as read after viewing.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-08T15:43:31.750059+01:00","updated_at":"2025-12-09T00:08:00.971485104+01:00","closed_at":"2025-12-09T00:08:00.971485104+01:00","dependencies":[{"issue_id":"ews-test-mgb","depends_on_id":"ews-test-7ll","type":"blocks","created_at":"2025-12-08T15:46:15.306799+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-mgb","depends_on_id":"ews-test-4cn","type":"blocks","created_at":"2025-12-08T15:46:20.466736+01:00","created_by":"tommyfalkowski"},{"issue_id":"ews-test-mgb","depends_on_id":"ews-test-dtq","type":"parent-child","created_at":"2025-12-08T15:48:29.134213+01:00","created_by":"tommyfalkowski"}]}
